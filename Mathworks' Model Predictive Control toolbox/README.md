Mathworks' Model Predictive Control Toolbox can use states as input to the controller by choosing "Use custom estimated states instead of measured outputs" in the MPC block. The other option is to use the process' outputs as input to the controller block. In the "Basic controller" folder, both ways are used.
